'use client';

import Link from 'next/link';
import { usePathname } from 'next/navigation';
import styles from '../styles/navigation.module.css';

export default function Navigation() {
  const path = usePathname();

  return (
    <>
      <nav className={styles.nav}>
        <ul className={styles.list}>
          <li>
            <Link href="/">Home</Link> {path === '/' ? 'ğŸ™‚' : ''}
          </li>
          <li>
            <Link href="/about-us">About-us</Link>
            {path === '/about-us' ? 'ğŸ™‚' : ''}
          </li>
        </ul>
      </nav>
    </>
  );
}

//-------------âœ… usePathname
//aíƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë¸Œë¼ìš°ì €ì˜ ë„¤ë¹„ê²Œì´ì…˜ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.
//ìš°ë¦° í”„ë ˆì„ì›Œí¬ì˜ ë„¤ë¹„ê²Œì´ì…˜ì„ ì‚¬ìš©í• ê±°ë‹¤. <Link>ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•œë‹¤!

//NextJsì—ëŠ” urlì— ê´€í•œ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” Hookì´ ìˆë‹¤.
//routerê¹Œì§€ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì£¼ê¸°ë„ í•œë‹¤.
//usePathname
//userê°€ ë¨¸ë¬¼ê³  ìˆëŠ” pathë¥¼ ì•Œë ¤ì¤€ë‹¤.

//-------------âœ… Hydration
//--> ë§Œì•½ ì‚¬ìš©ìê°€ about-usí˜ì´ì§€ë¡œ ê°€ê³  ì‹¶ì–´ í•œë‹¤ë©´?
//next.jsëŠ” ê·¸ ìš”ì²­ì„ ë³´ê³  ìš°ë¦¬ì˜ componentë¥¼ dummy HTMLë¡œ ë³€í™˜í•œë‹¤. (ì¸í„°ë™í‹°ë¸Œ í•˜ì§€ ì•ŠìŒ!) ì´ê²Œ ì‚¬ìš©ìì—ê²Œ ë„˜ê²¨ì§„ë‹¤.
//ì‚¬ìš©ìê°€ í˜ì´ì§€ì— ë„ì°©í•˜ë©´, í”„ë ˆì„ì›Œí¬ë¥¼ load í•œë‹¤.
//ê·¸ë¦¬ê³  ì´ ì¬ë¯¸ì—†ëŠ” HTMLì— ìƒˆë¡œìš´ React applicationì„ ì´ˆê¸°í™” í•œë‹¤. (ì¸í„°ë™í‹°ë¸Œ!)
//--> ì‚¬ìš©ìê°€ í™”ë©´ì„ ë³¼ ë•Œ next.jsëŠ” ë’¤ì—ì„œ React applicationì„ ì´ˆê¸°í™”í•˜ê³  ìˆëŠ” ê²ƒ.
//ê²°êµ­ ì‚¬ìš©ìê°€ í˜ì´ì§€ì— ë„ì°©í•œ ìˆœê°„ì—ëŠ” ì•„ì§ js, í”„ë ˆì„ì›Œí¬ê°€ ë¡œë“œë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.
//í•˜ì§€ë§Œ ì´í›„ì— jsê°€ ë¡œë“œë˜ëŠ” ìˆœê°„, ëª¨ë“  ì¤€ë¹„ê°€ ì™„ë£Œ ëœ ìˆœê°„ ë¹ ë¥´ê²Œ React applicationì´ initializeë˜ëŠ” ê²ƒ!
//--> ì˜ˆë¥¼ ë“¤ì–´ ì´ˆê¸°ì— aíƒœê·¸ ì˜€ë˜ ê²ƒì´ ë¦¬ì•¡íŠ¸ì˜ Linkì»´í¬ë„ŒíŠ¸ê°€ ëœë‹¤. ê¹œë¹¡ì„ ì—†ì´ ë” ë¹ ë¥´ê²Œ ë¡œë“œ ëœë‹¤.
//ê·¸ëŸ¼ ë¦¬ì•¡íŠ¸ê°€ appì„ ë„˜ê²¨ë°›ê³ , hard refresh ì—†ì´ navigateí•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒ.
//ê²°êµ­ ì‚¬ìš©ìê°€ jsë¥¼ ë” ì ê²Œ ë‹¤ìš´ë°›ì•„ë„ ëœë‹¤ëŠ” ì˜ë¯¸ì´ê¸°ì— íš¨ìœ¨ì ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.

//í•˜ì§€ë§Œ ì´ Hydrationì´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
//"use client"ì§€ì‹œì–´ë¥¼ ë§¨ ìœ„ì— ê°€ì§€ê³  ìˆëŠ” componentë§Œ ! client ì—ì„œ interactiveí•˜ê²Œ ë§Œë“¤ì–´ì§„ë‹¤.
//ì´ ì»´í¬ë„ŒíŠ¸ëŠ” clientì—ì„œ interactiveí•´ì•¼í•´! ë¼ê³  í•´ì£¼ëŠ” ê²ƒ.
//ì´ˆê¸° ë¡œë“œì—ì„œëŠ” componentë¥¼ renderí•˜ê³ , HTMLì„ ì‚¬ìš©ìì—ê²Œ ì£¼ê³  ë‚˜ì„œ, eventListenerë“¤ì„ ì¶”ê°€ í•  componentë¥¼ hydrateí•œë‹¤.

//âœ… ê·¸ëŸ¼ ì–¸ì œ "use client"ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜?
//ë‚¨ë°œ í•  í•„ìš” ì—†ë‹¤!
//ì‹¤í–‰í–ˆì„ ë•Œ ì˜¤ë¥˜ê°€ ë‚˜ê³  next.jsê°€ ì•Œë ¤ì¤€ë‹¤.
// ì§€ê¸ˆ useStateì‚¬ìš©í•˜ê³  ìˆìœ¼ë‹ˆ (interactive í•œê±° ì‚¬ìš©í•˜ê³  ìˆìœ¼ë‹ˆ) "use client" ì‚¬ìš©í•´ì•¼ í•œë‹¤ê³ .
//ê·¸ë˜ì„œ "use client"ê°€ clientì—ì„œë§Œ ë Œë”ë§ ë˜ì–´ì•¼ í•´! ë¥¼ ì˜ë¯¸í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
//--> backendì—ì„œ renderë˜ê³  frontendì—ì„œ hydrateë¨ì„ ì˜ë¯¸í•œë‹¤.
//ê± use hydrate ë¡œ ìƒê°í•˜ëŠ”ê²Œ í¸í•  ë“¯.
//ì–´ì¨Œë“  ì–˜ë„ serverì—ì„œ ë¨¼ì € renderê°€ ë˜ê³  ë‚˜ì„œ hydrate ëœë‹¤!

//ê·¸ëŸ¼ server componentëŠ”?
//client componentë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëª¨ë“  ê²ƒë“¤ì´ server componentê°€ ëœë‹¤.
//"use client"ë¥¼ ì„ ì–¸í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë‘ server componentê°€ ëœë‹¤.
//ì˜ˆë¥¼ ë“¤ì–´ clientì—ê²Œ ë”± í•œ ë²ˆë§Œ renderë˜ì–´ì•¼ í•œë‹¤ë©´ (useStateë‚˜ onClick Eventê°€ ì—†ì„ ê²½ìš°)
//êµ³ì´ ì‚¬ìš©ìì—ê²Œ í•´ë‹¹ componentë¥¼ ìœ„í•œ ì½”ë“œë¥¼ ë‹¤ìš´ë°›ê²Œ í•  í•„ìš”ê°€ ìˆë‚˜?? ë‹¹ì—°íˆ ê·¸ëŸ´ í•„ìš” ì—†ë‹¤.
